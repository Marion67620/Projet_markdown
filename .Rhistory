knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(cache = TRUE)
knitr::opts_chunk$set(eval = TRUE)
knitr::opts_chunk$set(warning = FALSE)
library(sf)
setwd("C:/Users/Marion/Documents/05. L3/SIG/Protjer_markdown/data")
setwd("C:/Users/Marion/Documents/05. L3/SIG/Protjet_markdown/data")
setwd("C:/Users/Marion/Documents/05. L3/SIG/Projet_markdown/data")
st_read("vote.gpkg")
setwd("C:/Users/Marion/Documents/05. L3/SIG/Projet_markdown/data")
library(sf)
setwd("C:/Users/Marion/Documents/05. L3/SIG/Projet_markdown/data")
st_read("vote.gpkg")
data <- st_read("vote.gpkg")
library(sf)
setwd("C:/Users/Marion/Documents/05. L3/SIG/Projet_markdown/data")
st_read("vote.gpkg")
data <- st_read("vote.gpkg")
setwd("C:/Users/Marion/Documents/05. L3/SIG/Projet_markdown/data")
library(sf)
setwd("C:/Users/Marion/Documents/05. L3/SIG/Projet_markdown/data")
st_read("vote.gpkg")
data <- st_read("vote.gpkg")
read.csv("bondyInsee.csv")
read.csv(bondyInsee.csv)
setwd("C:/Users/Marion/Documents/05. L3/SIG/Projet_markdown/data")
read.csv("bondyInsee.csv")
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(cache = TRUE)
knitr::opts_chunk$set(eval = TRUE)
knitr::opts_chunk$set(warning = FALSE)
library(sf)
setwd("C:/Users/Marion/Documents/05. L3/SIG/Projet_markdown/data")
st_read("vote.gpkg")
data <- st_read("vote.gpkg")
setwd("C:/Users/Marion/Documents/05. L3/SIG/Projet_markdown/data")
read.csv("bondyInsee.csv")
str("bon")
setwd("C:/Users/Marion/Documents/05. L3/SIG/Projet_markdown/data")
read.csv("bondyInsee.csv")
str("bondyInsee.csv")
setwd("C:/Users/Marion/Documents/05. L3/SIG/Projet_markdown/data")
read.csv("bondyInsee.csv")
str("bondyInsee.csv")
read.csv("bondyInsee.csv")
View(data)
library(sf)
st_read("vote.gpkg")
data1 <- st_read("vote.gpkg")
str(data1)
read.csv("bondyInsee.csv")
summary("bondyInsee.csv")
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(cache = TRUE)
knitr::opts_chunk$set(eval = TRUE)
knitr::opts_chunk$set(warning = FALSE)
setwd("C:/Users/Marion/Documents/05. L3/SIG/Projet_markdown/data")
library(sf)
st_read("vote.gpkg")
data1 <- st_read("vote.gpkg")
str(data1)
read.csv("bondyInsee.csv")
summary("bondyInsee.csv")
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(cache = TRUE)
knitr::opts_chunk$set(eval = TRUE)
knitr::opts_chunk$set(warning = FALSE)
setwd("C:/Users/Marion/Documents/05. L3/SIG/Projet_markdown/data")
library(sf)
st_read("vote.gpkg")
data1 <- st_read("vote.gpkg")
str(data1)
read.csv("bondyInsee.csv")
summary("bondyInsee.csv")
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(cache = TRUE)
knitr::opts_chunk$set(eval = TRUE)
knitr::opts_chunk$set(warning = FALSE)
setwd("C:/Users/Marion/Documents/05. L3/SIG/Projet_markdown/data")
library(sf)
st_read("vote.gpkg")
data1 <- st_read("vote.gpkg")
str(data1)
data1 <- st_read("vote.gpkg")
str(data1)
read.csv("bondyInsee.csv")
summary("bondyInsee.csv")
read.csv("bondyInsee.csv")
knitr::opts_chunk$set(echo = FALSE)
knitr::opts_chunk$set(cache = TRUE)
knitr::opts_chunk$set(eval = TRUE)
knitr::opts_chunk$set(warning = FALSE)
setwd("C:/Users/Marion/Documents/05. L3/SIG/Projet_markdown/data")
library(sf)
st_read("vote.gpkg")
data1 <- st_read("vote.gpkg")
str(data1)
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(cache = TRUE)
knitr::opts_chunk$set(eval = TRUE)
knitr::opts_chunk$set(warning = FALSE)
setwd("C:/Users/Marion/Documents/05. L3/SIG/Projet_markdown/data")
library(sf)
st_read("vote.gpkg")
data1 <- st_read("vote.gpkg")
str(data1)
data2 <- read.csv("bondyInsee.csv")
str(data2)
La fonction setwd me permet de m'assurer que je travaille bien dans le bon dossier, pour bien pouvoir récupérer le fichier vote.gpkg. Je joue la librairie sf afin de pouvoir utiliser la fonction st_read. Je regarde ensuite la structure de vote.gpkg (data1)
Je fais ensuite de même pour bondyInsee (data2)
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(cache = TRUE)
knitr::opts_chunk$set(eval = TRUE)
knitr::opts_chunk$set(warning = FALSE)
library(sf)
library(mapsf)
setwd("C:/Users/Marion/Documents/05. L3/SIG/Projet_markdown/data")
data1 <- st_read("vote.gpkg")
data2 <- read.csv("bondyInsee.csv")
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(cache = TRUE)
knitr::opts_chunk$set(eval = TRUE)
knitr::opts_chunk$set(warning = FALSE)
library(sf)
library(mapsf)
setwd("C:/Users/Marion/Documents/05. L3/SIG/Projet_markdown/data")
library(leaflet)
leaflet() %>% addTiles()
m <- leaflet()
m <- addTiles(m)
m
library(sf)
data2 <- st_read("insee.gpkg", "bondy")
data2 <- st_transform(data2, 4326)
data2$Men_prop
pal <- colorNumeric(
palette = "YlOrRd",
domain = data2$Taux.de.participation....
)
leaflet(data2) %>%
addPolygons(color = "#444444", weight = 1, smoothFactor = 0.5,
opacity = 1.0, fillOpacity = 0.5,
fillColor = ~colorQuantile("YlOrRd", Men_prop)(Men_prop),
highlightOptions = highlightOptions(color = "white", weight = 2,
bringToFront = TRUE)) %>% addLegend("bottomright", pal = pal, values = ~ Men_prop,
title = "Ménages propriétaires",
opacity = 1
) %>% addTiles()
st_read("vote.gpkg"), "jointure"
st_read("vote.gpkg"), "jointure"
data3 <- st_read("vote.gpkg"), "jointure"
library(sf)
data3 <- st_read("vote.gpkg"), "jointure"
library(mapsf)
data3 <- st_read("vote.gpkg"), "jointure"
data3 <- st_read("vote.gpkg")
data3 <- st_read("vote.gpkg"), "jointure"
library(sf)
library(mapsf)
data <- st_read("vote.gpkg"), "jointure"
library(sf)
library(mapsf)
data <- st_read("vote.gpkg", "jointure")
apply(data [,14:18, drop = T], 2,sum)
summary(data[,14:15, drop = T])
data <- data [,15]
names (data) [1] <- c("HERVE")
palette <- heat.colors(5, rev = T)
seuils <- c(85, 100, 125, 150, 175, 230)
str(data)
png("resultHERVE.png", width = 4000, height = 4000, res = 400)
mf_choro(data,  var = "HERVE", breaks = seuils, pal = palette,border = NA, leg_pos = "n")
mf_label(data, "HERVE")
mf_inset_on(data, pos = "topright")
par(mar = c(2,2,2,2))
hist(data$HERVE, border = NA, right = F, col=palette, main = "", xlab = "", ylab="")
mf_inset_off()
dev.off()
library(sf)
library(mapsf)
data <- st_read("vote.gpkg", "jointure")
apply(data [,14:18, drop = T], 2,sum)
summary(data[,14:15, drop = T])
data <- data [,15]
names (data) [1] <- c("HERVE")
palette <- heat.colors(5, rev = T)
seuils <- c(85, 100, 125, 150, 175, 230)
str(data)
png("resultHERVE.png", width = 4000, height = 4000, res = 400)
mf_choro(data,  var = "HERVE", breaks = seuils, pal = palette,border = NA, leg_pos = "n")
mf_label(data, "HERVE")
mf_inset_on(data, pos = "topright")
par(mar = c(2,2,2,2))
hist(data$HERVE, border = NA, right = F, col=palette, main = "", xlab = "", ylab="")
mf_inset_off()
dev.off()
library(sf)
library(mapsf)
data <- st_read("vote.gpkg", "jointure")
apply(data [,14:18, drop = T], 2,sum)
summary(data[,14:15, drop = T])
data <- data [,15]
names (data) [1] <- c("HERVE")
palette <- heat.colors(5, rev = T)
seuils <- c(85, 100, 125, 150, 175, 230)
str(data)
png("resultHERVE.png", width = 4000, height = 4000, res = 400)
mf_choro(data,  var = "HERVE", breaks = seuils, pal = palette,border = NA, leg_pos = "n")
mf_label(data, "HERVE")
mf_inset_on(data, pos = "topright")
par(mar = c(2,2,2,2))
hist(data$HERVE, border = NA, right = F, col=palette, main = "", xlab = "", ylab="")
mf_inset_off()
dev.off()
mf_inset_off()
dev.off()
library(sf)
library(mapsf)
data <- st_read("vote.gpkg", "jointure")
apply(data [,14:18, drop = T], 2,sum)
summary(data[,14:15, drop = T])
data <- data [,15]
names (data) [1] <- c("HERVE")
palette <- heat.colors(5, rev = T)
seuils <- c(85, 100, 125, 150, 175, 230)
str(data)
png("resultHERVE.png", width = 4000, height = 4000, res = 400)
mf_choro(data,  var = "HERVE", breaks = seuils, pal = palette,border = NA, leg_pos = "n")
mf_label(data, "HERVE")
mf_inset_on(data, pos = "topright")
par(mar = c(2,2,2,2))
hist(data$HERVE, border = NA, right = F, col=palette, main = "", xlab = "", ylab="")
mf_inset_off()
dev.off()
png("resultHERVE.png", width = 4000, height = 4000, res = 400)
mf_choro(data,  var = "HERVE", breaks = seuils, pal = palette,border = NA, leg_pos = "n")
mf_label(data, "HERVE")
mf_inset_on(data, pos = "topright")
dev.off()
mf_inset_off()
mf_inset_off()
png("resultHERVE.png", width = 4000, height = 4000, res = 400)
mf_choro(data,  var = "HERVE", breaks = seuils, pal = palette,border = NA, leg_pos = "n")
mf_label(data, "HERVE")
mf_inset_on(data, pos = "topright")
library(sf)
library(mapsf)
data <- st_read("vote.gpkg", "jointure")
setwd("C:/Users/Marion/Documents/05. L3/SIG/Projet_markdown/data")
data <- st_read("vote.gpkg", "jointure")
apply(data [,14:18, drop = T], 2,sum)
summary(data[,14:15, drop = T])
data <- data [,15]
names (data) [1] <- c("HERVE")
palette <- heat.colors(5, rev = T)
seuils <- c(85, 100, 125, 150, 175, 230)
png("resultHERVE.png", width = 4000, height = 4000, res = 400)
mf_choro(data,  var = "HERVE", breaks = seuils, pal = palette,border = NA, leg_pos = "n")
mf_label(data, "HERVE")
mf_inset_on(data, pos = "topright")
mf_inset_off()
mf_choro(data,  var = "HERVE", breaks = seuils, pal = palette,border = NA, leg_pos = "n")
mf_label(data, "HERVE")
mf_inset_on(data, pos = "topright")
par(mar = c(2,2,2,2))
hist(data$HERVE, border = NA, right = F, col=palette, main = "", xlab = "", ylab="")
mf_inset_off()
library(sf)
library(mapsf)
data <- st_read("vote.gpkg", "jointure")
apply(data [,14:18, drop = T], 2,sum)
summary(data[,14:15, drop = T])
data <- data [,15]
names (data) [1] <- c("HERVE")
palette <- heat.colors(5, rev = T)
seuils <- c(85, 100, 125, 150, 175, 230)
str(data)
png("resultHERVE.png", width = 4000, height = 4000, res = 400)
mf_choro(data,  var = "HERVE", breaks = seuils, pal = palette,border = NA, leg_pos = "n")
mf_label(data, "HERVE")
mf_inset_on(data, pos = "topright")
par(mar = c(2,2,2,2))
hist(data$HERVE, border = NA, right = F, col=palette, main = "", xlab = "", ylab="")
mf_inset_off()
dev.off()
library("resultHERVE.png")
library("png")
img1<-readPNG("resultHERVE.png")
display<-function(...){
imageList<-list(...) ;   totalWidth<-0 ;   maxHeight<-0 ;
for (img in imageList){    if(is.character(img)) img<-readPNG(img) ;  dimg<-dim(img) ;  totalWidth<-totalWidth+dimg[2] ;   maxHeight<-max(maxHeight,dimg[1])  }
par(mar=c(0,0,0,0)) ;   plot(c(0,totalWidth),c(0,maxHeight),type="n",asp=1,xaxt="n",yaxt="n",xlab="x",ylab="y") ;   offset<-0 ;
for (img in imageList){    dimg<-dim(img) ;    rasterImage(img,offset,0,offset+dimg[2],dimg[1])
offset<-offset+dimg[2]  }}
display(img1)
setwd("C:/Users/Marion/Documents/05. L3/SIG/Projet_markdown/data")
library(leaflet)
leaflet() %>% addTiles()
m <- leaflet()
m <- addTiles(m)
m
library(sf)
data2 <- st_read("insee.gpkg", "bondy")
data2 <- st_transform(data2, 4326)
data2$Men_prop
pal <- colorNumeric(
palette = "YlOrRd",
domain = data2$Taux.de.participation....
)
leaflet(data2) %>%
addPolygons(color = "#444444", weight = 1, smoothFactor = 0.5,
opacity = 1.0, fillOpacity = 0.5,
fillColor = ~colorQuantile("YlOrRd", Men_prop)(Men_prop),
highlightOptions = highlightOptions(color = "white", weight = 2,
bringToFront = TRUE)) %>% addLegend("bottomright", pal = pal, values = ~ Men_prop,
title = "Ménages propriétaires",
opacity = 1
) %>% addTiles()
library(sf)
library(mapsf)
data <- st_read("vote.gpkg", "jointure")
apply(data [,14:18, drop = T], 2,sum)
summary(data[,14:15, drop = T])
data <- data [,15]
names (data) [1] <- c("HERVE")
palette <- heat.colors(5, rev = T)
seuils <- c(85, 100, 125, 150, 175, 230)
str(data)
png("resultHERVE.png", width = 4000, height = 4000, res = 400)
mf_choro(data,  var = "HERVE", breaks = seuils, pal = palette,border = NA, leg_pos = "n")
mf_label(data, "HERVE")
mf_inset_on(data, pos = "topright")
par(mar = c(2,2,2,2))
hist(data$HERVE, border = NA, right = F, col=palette, main = "", xlab = "", ylab="")
mf_inset_off()
dev.off()
library("png")
img1<-readPNG("resultHERVE.png")
display(img1)
setwd("C:/Users/Marion/Documents/05. L3/SIG/Projet_markdown/data")
library(sf)
data2 <- st_read("insee.gpkg", "bondy")
library("png")
img1<-readPNG("resultHERVE.png")
display<-function(...){
imageList<-list(...) ;   totalWidth<-0 ;   maxHeight<-0 ;
for (img in imageList){    if(is.character(img)) img<-readPNG(img) ;  dimg<-dim(img) ;  totalWidth<-totalWidth+dimg[2] ;   maxHeight<-max(maxHeight,dimg[1])  }
par(mar=c(0,0,0,0)) ;   plot(c(0,totalWidth),c(0,maxHeight),type="n",asp=1,xaxt="n",yaxt="n",xlab="x",ylab="y") ;   offset<-0 ;
for (img in imageList){    dimg<-dim(img) ;    rasterImage(img,offset,0,offset+dimg[2],dimg[1])
offset<-offset+dimg[2]  }}
display(img1)
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(cache = TRUE)
knitr::opts_chunk$set(eval = TRUE)
knitr::opts_chunk$set(warning = FALSE)
library(sf)
library(mapsf)
st_read("vote.gpkg")
read.csv("bondyInsee.csv")
data2 <- st_read("vote.gpkg")
data <- st_read("vote.gpkg")
str("vote.gpkg")
st_read("vote.gpkg")
str("vote.gpkg")
library(sf)
library(mapsf)
st_read("vote.gpkg")
str("vote.gpkg")
read.csv("bondyInsee.csv")
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(cache = TRUE)
knitr::opts_chunk$set(eval = TRUE)
knitr::opts_chunk$set(warning = FALSE)
library(sf)
library(mapsf)
st_read("vote.gpkg")
str("vote.gpkg")
library(sf)
library(sf)
library(mapsf)
st_read("vote.gpkg")
str("vote.gpkg")
library(sf)
library(mapsf)
st_read("vote.gpkg")
str("vote.gpkg")
library(sf)
library(mapsf)
st_read("vote.gpkg")
str("vote.gpkg")
library(sf)
library(mapsf)
data <- st_read("vote.gpkg", "jointure")
str("vote.gpkg")
library(sf)
library(mapsf)
st_read("vote.gpkg")
str("vote.gpkg")
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(cache = TRUE)
knitr::opts_chunk$set(eval = TRUE)
knitr::opts_chunk$set(warning = FALSE)
library(sf)
library(mapsf)
st_read("vote.gpkg")
str("vote.gpkg")
setwd("C:/Users/Marion/Documents/05. L3/SIG/Projet_markdown/data")
library(sf)
library(mapsf)
st_read("vote.gpkg")
str("vote.gpkg")
data <- st_read("vote.gpkg")
setwd("C:/Users/Marion/Documents/05. L3/SIG/Projet_markdown/data")
library(sf)
library(mapsf)
st_read("vote.gpkg", "jointure")
str("vote.gpkg")
